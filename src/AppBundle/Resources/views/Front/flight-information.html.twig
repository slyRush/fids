{% extends 'AppBundle:Front:base_display.html.twig' %}
{% block mostviewbody %}
    {% if typeDisplayed == "depart" %}
        <h2 style="color: #fff">DEPART</h2>
    {% else %}
        <h2 style="color: #fff">ARRIVEE</h2>
    {% endif %}
    <table class="table table-striped table-inverse">
        <thead>
        <tr>
            <th>{{'Numéro de vol' | trans}}</th>
            <th>{{'Compagnie' | trans}}</th>
            <th>{{'Destination' | trans}}</th>
            {% if typeDisplayed == "depart" %}
                <th>{{'Heure Départ' | trans}}</th>
            {% else %}
                <th>{{'Heure Arrivée' | trans}}</th>
            {% endif %}
            <th>{{'Statut' | trans}}</th>
        </tr>
        </thead>
        <tbody>
        {% for flight in flights %}
            <tr>
                {% if flight['type'] == typeDisplayed and flight['reseau'] == reseauDisplayed %}
                    <th scope="row"> {{flight['nom_vol']}} </th>
                    <td>{% if flight['logo'] != null %}
                            <img style="width: 50px; height: 50px;" src="{{ asset(flight['logo'])}}" alt="{{ flight['logo'] }}">
                        {% endif %}
                    </td>
                    <td>
                        {% if typeDisplayed == "depart" %}
                            {{flight['destination']}}
                        {% else %}
                            {{flight['depart']}}
                        {% endif %}
                    </td>
                    <td>
                        {% if typeDisplayed == "depart" %}
                            {{flight['heureDepart']|date('H:i')}}
                        {% else %}
                            {{flight['heureArrivee']|date('H:i')}}
                        {% endif %}
                    </td>
                    <td>
                        {% set status = flight['statut'] %}
                        {% if status == "ontime" %}
                            En cours
                        {% elseif status == "departed" %}
                            Parti
                        {% elseif status == "landed" %}
                            A atteri
                        {% endif %}
                        {{ dump(status) }}
                    </td>
                {% endif %}
            </tr>
            {% if flight['type'] == typeDisplayed and flight['reseau'] == reseauDisplayed %}
                <tr>
                    <td colspan="5">{#<div class="border_final_raw"></div>#}</td>
                </tr>
            {% endif %}
        {% endfor%}
        </tbody>
    </table>
{% endblock %}
